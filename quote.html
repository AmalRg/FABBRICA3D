<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Fabbrica 3D & co.</title>
    <link rel="icon" href="images/logo_icon.png" />

    <!-- CSS FILES -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@200;400;600;700&display=swap"
      rel="stylesheet"
    />

    <link href="css/bootstrap.min.css" rel="stylesheet" />
    <link href="css/bootstrap-icons.css" rel="stylesheet" />
    <link href="css/vegas.min.css" rel="stylesheet" />
    <link href="css/tooplate-3d.css" rel="stylesheet" />

    <!-- 3D LIBRARIES -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128/examples/js/loaders/OBJLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128/examples/js/loaders/STLLoader.js"></script>
  </head>

  <body class="quote-page">
    <main>
      <!-- NAVBAR -->
      <div class="sticky-wrapper">
        <nav class="navbar navbar-expand-lg">
          <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="index.html">
              <img
                src="images/logo_icon.png"
                class="navbar-brand-image img-fluid"
              />
              Fabbrica 3D
            </a>

            <button
              class="navbar-toggler"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navbarNav"
            >
              <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarNav">
              <ul class="navbar-nav ms-lg-auto">
                <li class="nav-item">
                  <a class="nav-link click-scroll" href="index.html#section_1"
                    >Home</a
                  >
                </li>
                <li class="nav-item">
                  <a class="nav-link click-scroll" href="index.html#section_2"
                    >About</a
                  >
                </li>
                <li class="nav-item">
                  <a class="nav-link click-scroll" href="index.html#section_3"
                    >Products</a
                  >
                </li>
                <li class="nav-item">
                  <a class="nav-link click-scroll" href="index.html#section_4"
                    >Contact</a
                  >
                </li>
              </ul>

              <div class="ms-lg-3">
                <a class="btn custom-btn custom-border-btn" href="quote.html">
                  Instant Quote <i class="bi-arrow-up-right ms-2"></i>
                </a>
              </div>
            </div>
          </div>
        </nav>
      </div>

      <!-- QUOTE SECTION -->
      <section class="quote-section">
        <div class="container">
          <h2 class="quote-title">Instant 3D Printing Quote</h2>

          <div class="row">
            <!-- 3D Viewer -->
            <div class="col-md-6">
              <h5 class="text-white">3D Model Preview</h5>
              <div id="viewer3d"></div>

              <input
                type="file"
                id="file3d"
                class="form-control"
                accept=".stl,.obj"
              />
              <small class="text-muted">Supported formats: STL, OBJ</small>
            </div>

            <!-- Quote Form -->
            <div class="col-md-6">

              <form id="quote-form" class="custom-form-box" action="https://formspree.io/f/mvgerern" method="POST">
                <label class="mt-3">Full Name</label>
                <input name="name" id="name" type="text" class="form-control" placeholder="Full Name" required/>

                <label class="mt-3">Email</label>
                <input name="email" id="email" type="email" class="form-control" placeholder="Email" required/>

                <label class="mt-3">Material</label>
                <select name="material" id="material" class="form-control" required>
                    <option value="0.10">PLA - 0.10 dt / gram</option>
                    <option value="0.15">ABS - 0.15 dt / gram</option>
                    <option value="0.20">PETG - 0.20 dt / gram</option>
                    <option value="0.25">Resin - 0.25 dt / gram</option>
                </select>

                <label class="mt-3">Dimensions (mm)</label>
                <div class="row">
                  <div class="col">
                    <input name="length" id="length" type="number" class="form-control" placeholder="L" min="0" required/>
                  </div>
                  <div class="col">
                    <input name="width" id="width" type="number" class="form-control" placeholder="W" min="0" required/>
                  </div>
                  <div class="col">
                    <input name="height" id="height" type="number" class="form-control" placeholder="H" min="0" required/>
                  </div>
                </div>

                <!-- Details -->
                <label class="mt-3">Additional Notes (Color / Requirements / Message)</label>
                <textarea name="details" id="details" rows="4" class="form-control" placeholder="Write any details or requirements here..." required></textarea>

                <!-- Hidden fields for email reporting -->
                <input type="hidden" name="uploaded_file_name" id="uploadedFileName"/>
                <input type="hidden" name="estimated_weight" id="hiddenWeight"/>
                <input type="hidden" name="estimated_price" id="hiddenPrice" />
                <input type="hidden" name="estimated_time" id="hiddenTime" />

                <button type="button" id="btn-estimate" class="btn custom-btn w-100 mt-4">
                  Get Estimate
                </button>

                <div id="estimate-box" class="alert mt-4">
                  <h5>Estimation</h5>

                  <p>
                    <strong>Estimated Weight:</strong>
                    <span id="est-weight">0 g</span>
                  </p>
                  <p>
                    <strong>Estimated Price:</strong>
                    <span id="est-price">0.000 dt</span>
                  </p>
                  <p>
                    <strong>Estimated Printing Time:</strong>
                    <span id="est-time">0 h</span>
                  </p>

                  <!-- <button type="submit" id="btn-send" class="btn custom-btn custom-border-btn w-100 mt-3" disabled>
                    Submit Quote Request
                  </button> -->
                  <button type="submit" id="btn-send" class="btn custom-btn custom-border-btn w-100 mt-3" disabled>
                    Submit Quote Request
                  </button>

                <!-- Conteneur pour afficher l'alerte -->
                <div id="quote-status" class="mt-3" style="font-weight: 600;"></div>

                </div>
            </form>

            </div>
          </div>
        </div>
      </section>

      <!-- FOOTER (unchanged) -->
      <footer class="site-footer">
        <div class="container">
          <div class="row">
            <div class="col-lg-4 col-12 me-auto">
              <em class="text-white d-block mb-4">Where to find us?</em>

              <strong class="text-white">
                <i class="bi-geo-alt me-2"></i>
                Sfax, Tunis Road km8
              </strong>

              <ul class="social-icon mt-4">
                <li class="social-icon-item">
                  <a
                    href="https://www.facebook.com/FABBRICA3D.TN/"
                    target="_blank"
                    class="social-icon-link bi-facebook"
                  ></a>
                </li>

                <li class="social-icon-item">
                  <a
                    href="https://www.instagram.com/fabbrica_3d/"
                    target="_blank"
                    class="social-icon-link bi-instagram"
                  ></a>
                </li>
              </ul>
            </div>

            <div class="col-lg-3 col-12 mt-4 mb-3 mt-lg-0 mb-lg-0">
              <em class="text-white d-block mb-4">Contact</em>

              <p class="d-flex mb-1">
                <strong class="me-2">Phone:</strong>
                <a href="tel:50497444" class="site-footer-link"
                  >(+216) 50 497 444</a
                >
              </p>

              <p class="d-flex mb-1">
                <strong class="me-2">Whatsapp:</strong>
                <a href="https://wa.me/+330780602247" class="site-footer-link"
                  >(+33) 07 80 60 22 47</a
                >
              </p>

              <p class="d-flex">
                <strong class="me-2">Email:</strong>
                <a
                  href="mailto:contact.fabbrica3d@gmail.com"
                  class="site-footer-link"
                >
                  contact.fabbrica3d@gmail.com
                </a>
              </p>
            </div>

            <div class="col-lg-5 col-12">
              <em class="text-white d-block mb-4">Opening Hours.</em>

              <ul class="opening-hours-list">
                <li class="d-flex">
                  Monday - Friday <span class="underline"></span>
                  <strong>9:00 - 18:00</strong>
                </li>
                <li class="d-flex">
                  Saturday <span class="underline"></span>
                  <strong>11:00 - 16:30</strong>
                </li>
                <li class="d-flex">
                  Sunday <span class="underline"></span> <strong>Closed</strong>
                </li>
              </ul>
            </div>

            <div class="col-lg-8 col-12 mt-4">
              <p class="copyright-text mb-0">
                Copyright Â© FABBRICA 3D & co. 2025
              </p>
            </div>
          </div>
        </div>
      </footer>
    </main>

    <script src="js/bootstrap.min.js"></script>
    <script src="js/quote.js"></script>
  </body>
</html>
